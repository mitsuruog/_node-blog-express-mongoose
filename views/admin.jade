extends layout

block page
  - var menu = "admin" 
 
block content
  .admin(ng-app="app", ng-controller="AdminController")
    if(!articles || articles.length === 0)
      p
        | Nothing to display. Add a new 
        a(href="/new-post") article
        | .
    else
      table.table.table-stripped
        thead
          tr
            th(colspan="2") Actions
            th Post Title
        tbody
          each article, index in articles
            tr(data-id="#{article._id}", class="!article.published")
              td.action
                button.btn.btn-danger.btn-sm.remove(type="button")
                  span.glyphicon.glyphicon-remove(title="Remove")
              td.action
                button.btn.btn-danger.btn-sm.publish(type="button")
                  span.glyphicon(class=(article.published)?"glyphicon-pause":"glyphicon-play", title=(article.published)?"Unpublish":"Publish")
              td= article.title
  script(src="javascripts/admin.js")
